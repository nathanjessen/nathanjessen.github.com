jQuery(document).ready(function(e){var t,r={slideshow:"webslides",slide:"slide",counter:"counter",navigation:"navigation",next:"next",previous:"previous",current:"current",verticalClass:"vertical"},n="swing",a=150,s="ontouchstart"in document.documentElement&&navigator.userAgent.match(/Mobi/),i=jQuery("#"+r.slideshow),l=jQuery("<div>").attr("id","navigation"),o=i.children("section").addClass(r.slide),u=o.first(),c=(o.last(),o.length),d={next:i.hasClass(r.verticalClass)?"&darr;":"&rarr;",previous:i.hasClass(r.verticalClass)?"&uarr;":"&larr;",separator:" / "};jQuery("head").append("<style> .slide:nth-child("+c+") { page-break-after: auto }</style>"),i.children().not("section").remove(),l.append(jQuery('<a href="#" title="Arrow Keys">').attr("id",r.previous).html(d.previous)),l.append(jQuery('<a href="#" title="Arrow Keys">').attr("id",r.next).html(d.next)),i.append(l),i.append(jQuery("<span>").attr("id",r.counter));var h=jQuery("#"+r.counter),v=jQuery("#"+r.next),f=jQuery("#"+r.previous);l.append(h);var m=function(){h.text(Q.current+d.separator+Q.last)},y=function(){var e=document.location.toString();1!=e.indexOf("#")&&(e=e.substr(0,e.indexOf("#"))),history.pushState(null,null,"#slide="+Q.current)},p=function(){t&&t.hide().removeClass(r.current)};i.data("moving",!1);var w=function(){if(i.hasClass(r.verticalClass)&&!s){if(i.data("moving"))return;i.data("moving",!0),jQuery("html").css({overflow:"hidden"});var e;e=t.next(),Q.current=(Q.current+1)%c,0==Q.current&&(Q.current=c),e.show().addClass(r.current);var l=!1;jQuery("html, body").animate({scrollTop:e.offset().top},500,n,function(){l||(t.hide().removeClass(r.current),t.siblings(".slide").last().after(t),t=e,m(),y(),j(),jQuery("html").css({overflow:"auto"}),setTimeout(function(){i.data("moving",!1)},i.data("iswheel")?a:0)),l=!0})}else{jQuery("html, body").animate({scrollTop:0},0),p();var e=t.next();e.show().addClass(r.current),t.siblings(".slide").last().after(t),t=e,Q.current=(Q.current+1)%c,0==Q.current&&(Q.current=c),m(),y(),j()}},g=function(){if(i.hasClass(r.verticalClass)&&!s){if(i.data("moving"))return;i.data("moving",!0),jQuery("html").css({overflow:"hidden"}),t.before(t.siblings(".slide").last());var e=t.prev();if(0==e.length)return!1;e.show().addClass(r.current);var l=!1;jQuery("html, body").scrollTop(t.offset().top),jQuery("html, body").animate({scrollTop:e.offset().top},500,n,function(){l||(t.hide().removeClass(r.current),t=e,t=e,Q.current=1==Q.current?c:Q.current-1,m(),y(),j(),jQuery("html").css({overflow:"auto"}),setTimeout(function(){i.data("moving",!1)},i.data("iswheel")?a:0)),l=!0})}else{jQuery("html, body").animate({scrollTop:0},0),p(),t.before(t.siblings(".slide").last());var e=t.prev();e.show().addClass(r.current),t=e,Q.current=1==Q.current?c:Q.current-1,m(),y(),j()}},C=function(e){p(),moveToSlide=e-1,t=o.eq(moveToSlide),t.show().addClass(r.current),jQuery(".slide:lt("+(e-1)+")").each(function(){var e=jQuery(this);e.siblings(".slide").last().after(e)}),Q.current=e,m()},j=function(e){var r=new window.CustomEvent("slidechanged",{detail:{slide:e||t}});window.dispatchEvent(r)};o.hide();var Q={current:1,last:o.length},b=parseInt(document.location.hash.replace("#slide=",""));b&&b>0&&b<=o.length?C(b):(t=u.show().addClass(r.current),m()),v.click(function(e){e.preventDefault(),w()}),f.click(function(e){e.preventDefault(),g()}),jQuery(document).keydown(function(e){if(!i.hasClass(r.verticalClass)||s){if(i.data("iswheel",!1),39==e.which||32==e.which)return w(),!1;if(37==e.which)return g(),!1}}),jQuery(document).keydown(function(e){if(i.hasClass(r.verticalClass)&&!s){if(i.data("iswheel",!1),40==e.which||32==e.which)return w(),!1;if(38==e.which)return g(),!1}}),jQuery("ul.tabs li").click(function(){var e=jQuery(this),t=e.attr("data-tab");jQuery("ul.tabs li").removeClass("current"),jQuery(".tab-content").removeClass("current"),e.addClass("current"),jQuery("#"+t).addClass("current")})}),$(document).keypress(function(e){13==e.which&&$("body").toggleClass("baseline").css("height",$(document).height())});